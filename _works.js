// éšæœºæ–‡å­—åº“
Afternoon éšæœºæé†’ Â· ç§°å‘¼å¯å˜ç‰ˆï¼ˆ{nick} = ç¬¨è›‹ / åè›‹ / å‘†å­ / å°è ¢å­ï¼‰
const nicknames = ["ç¬¨è›‹", "åè›‹", "å‘†å­", "å°è ¢å­"];

const textsForTangXiaoxin = [
  "{nick}å”å°æ¬£ï¼Œå…ˆåœä¸€ä¸‹ä¼‘æ¯ä¼šå˜›ï¼Œä½ å·²ç»å¿™ä¸€ä¸‹åˆå•¦ï½ž ðŸ˜Šâ˜•",
  "{nick}å”å°æ¬£ï¼Œä½ æ˜¯ä¸æ˜¯åˆåå¤ªä¹…äº†ï¼Ÿèµ·æ¥ä¼¸ä¼¸æ‰‹ã€å–å£æ°´å˜›ï½ž âœ¨ðŸ’§",
  "{nick}å”å°æ¬£ï¼Œåˆ«ä¸€ç›´å¿™ä¸ªä¸åœï¼Œç»™è‡ªå·±ç•™å‡ åˆ†é’Ÿå–˜å£æ°”å§ï½ž ðŸ˜®â€ðŸ’¨ðŸŒ¿",
  "{nick}å”å°æ¬£ï¼Œé—­ä¸Šçœ¼ä¼‘æ¯åç§’é’Ÿä¹Ÿå¥½ï½ž å‘¼å¸ä¸€ä¸‹ï½ž ðŸŒ¼ðŸ’›",
  "{nick}å”å°æ¬£ï¼Œä½ åšå¾—å·²ç»å¾ˆå¥½å•¦ï¼ŒçŽ°åœ¨è¯¥è®©è‡ªå·±æ”¾æ¾ä¸€ä¸‹ï½ž ðŸ§¸ðŸ’—",
  "{nick}å”å°æ¬£ï¼Œä¸‹åˆè¿™ä¸ªæ—¶é—´æœ€ç´¯äº†ï¼Œä½ å¿«æ­‡ä¸€æ­‡ï½ž ðŸ˜´ðŸŒ¤ï¸",
  "{nick}å”å°æ¬£ï¼Œä¸å‡†ä¸€ç›´å¿™åˆ°å¿˜è®°è‡ªå·±ï¼Œå¬åˆ°æ²¡ï½ž ðŸ™ˆðŸ’¬",
  "{nick}å”å°æ¬£ï¼Œä½ çš„åŠªåŠ›æˆ‘çŸ¥é“å•¦ï¼ŒçŽ°åœ¨è½®åˆ°ä½ ç…§é¡¾è‡ªå·±ä¸€ä¸‹ï½ž ðŸ¤ðŸŒ™",
  "{nick}å”å°æ¬£ï¼Œå†ä¸ä¼‘æ¯æˆ‘å¯è¦ç”Ÿæ°”äº†å“¦ï½ž ðŸ˜¡âž¡ï¸ðŸ˜³ èµ¶å¿«åœä¸€ä¸‹ï½ž",
  "{nick}å”å°æ¬£ï¼Œå–ç‚¹æ°´å§ï¼Œä¸ä¼‘æ¯ä¼šè¢«æˆ‘å¿µçš„ï½ž ðŸ’§ðŸ˜—",
  "{nick}å”å°æ¬£ï¼Œä½ å·²ç»å¾ˆè¾›è‹¦äº†ï¼ŒçŽ°åœ¨æ”¾æ¾ä¸€ä¸‹ä¸‹ï½ž ðŸ«¶ðŸŒˆ",
  "{nick}å”å°æ¬£ï¼Œä¸‹åˆå¾ˆå®¹æ˜“ç´¯ï¼Œä½ è¦å¯¹è‡ªå·±å¥½ä¸€ç‚¹ï½ž â˜ï¸ðŸ¤",
  "{nick}å”å°æ¬£ï¼ŒæŠŠè‚©è†€æ”¾æ¾ä¸€ä¸‹ï¼Œæ·±å‘¼å¸ï½ž ðŸ«âœ¨",
  "{nick}å”å°æ¬£ï¼Œä½ åˆåœ¨å½“å°å¿™äººå•¦ï¼Ÿä¼‘æ¯ä¸€ä¸‹å˜›ï½ž ðŸ™ƒðŸ’›",
  "{nick}å”å°æ¬£ï¼Œä½ è¦å†è¿™ä¹ˆå¿™ï¼Œæˆ‘çœŸçš„è¦æŠ“ä½ åŽ»ä¼‘æ¯äº†ï½ž ðŸ˜¤ðŸ«µ",
  "{nick}å”å°æ¬£ï¼Œæ…¢ä¸€ç‚¹ç‚¹å•¦ï¼Œä¸–ç•Œä¸ä¼šä¹±æŽ‰çš„ï½ž ðŸƒâœ¨",
  "{nick}å”å°æ¬£ï¼Œç»™è‡ªå·±ä¸‰åˆ†é’Ÿæ”¾ç©ºä¸€ä¸‹ï½ž çŸ­çŸ­çš„ä¹Ÿå¾ˆå¥½ï½ž ðŸ§˜â€â™€ï¸ðŸŒ¸",
  "{nick}å”å°æ¬£ï¼Œåˆåˆ°ä¸‹åˆå›°å›°æ—¶é—´äº†ï¼Œä¼¸ä¸ªæ‡’è…°å§ï½ž ðŸ˜ªðŸ§‹",
  "{nick}å”å°æ¬£ï¼Œä½ å·²ç»å¤ŸåŠªåŠ›äº†ï¼ŒçŽ°åœ¨è½®åˆ°ä½ æ¸©æŸ”å¯¹è‡ªå·±ï½ž ðŸ¤ðŸŒ·",
  "{nick}å”å°æ¬£ï¼Œä¼‘æ¯å‡ åˆ†é’Ÿä¸ä¼šè€½è¯¯ä½ ï¼Œåè€Œè®©ä½ æ›´èˆ’æœï½ž ðŸ˜ŠðŸŒ¤ï¸"
];

// PushDeer æŽ¨é€å‡½æ•°
async function sendPushDeer(text) {
  const PUSHDEER_KEY = "YOUR_PUSHDEER_KEY"; // æ›¿æ¢ä¸ºä½ çš„ PushDeer Key
  const url = `https://api2.pushdeer.com/message/push?pushkey=${PUSHDEER_KEY}&text=${encodeURIComponent(text)}`;
  
  const response = await fetch(url, {
    method: "GET"
  });
  
  return await response.json();
}

// èŽ·å–éšæœºæ–‡å­—
function getRandomText() {
  const randomIndex = Math.floor(Math.random() * randomTexts.length);
  return randomTexts[randomIndex];
}

// å®šæ—¶ä»»åŠ¡å¤„ç†å‡½æ•°
async function handleScheduled(event) {
  const text = getRandomText();
  const result = await sendPushDeer(text);
  console.log(`Sent message: ${text}`, result);
  return result;
}

// ç›‘å¬ scheduled äº‹ä»¶
addEventListener('scheduled', event => {
  event.waitUntil(handleScheduled(event));
});

export default {
  async scheduled(event, env, ctx) {
    ctx.waitUntil(handleScheduled(event));
  }
};

